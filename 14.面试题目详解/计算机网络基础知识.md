#计算机网络基础知识:

***

- TCP/IP使用命令:
	- ping -t/-n/-w
		 - -t 使当前主机不断地向目的主机发送数据，直到使用Ctrl－C中断；
		 - -a  以IP地址格式（不是主机名形式）显示网络地址；
		 - -n
		 - -l
		 - -v
		 - -s
		 - -j
		 - -k
		 - -w
	- winipcfg(ipconfig/ifconfig): winipcfg和ipconfig都是用来显示主机内IP协议的配置信息。只是winipcfg适用于Windows 95/98，而ipconfig适用于Windows NT,ifconfig是在UNIX系统下
	- tracert: 判定数据包到达目的主机所经过的路径、显示数据包经过的中继节点清单和到达时间。tracert [-d] [-h maximum_hops] [-j host-list] [-w timeout] target_name 
	- netstat: 它可以显示当前正在活动的网络连接的详细信息，如采用的协议类型、当前主机与远端相连主机（一个或多个）的IP地址以及它们之间的连接状态等
	- arp: 用来显示及修改特定IP地址的网卡地址。arp的命令格式如下： arp -s inet_addr eth_addr [if_addr] arp -d inet_addr [if_addr] arp -a [inet_addr] [-N if_addr] 

- 浏览器访问页面HTTP协议返回状态码
	- 400: Bad Request
	- 401: Unauthorized
	- 402: Payment Required
	- 403: Forbidden
	- 404: Not Found
	- 405: Method Not Allowed
	- 500: 内部服务器访问
	- 503: 服务器繁忙

- 集线器，交换机，路由器比较
	 - 路由器与交换机
		 - 路由器工作在网络层，交换机工作在数据链路层；
		 - 路由器根据IP地址进行数据的转发，交换机根据MAC地址进行数据转发；
		 - 此外，路由器中还多了防火墙的功能
	 - 集线器与交换机
		 - 集线器是共享式，交换机是独享式
	 - 集线器与路由器
		 - 集线器工作在数据链路层，路由器工作在网络层，是互联网的主要骨干
		 
	 > 路由器主要用于家庭局域网，交换机主要常见于宿舍上网分配中，集线器主要用于组建星型局域网等网络拓扑中

- 各种通信协议:
	- 物理层:
		 * CLOCK
		 * RJ45
	- 数据链路层:
		 * PPP
		 * VLAN
		 * MAC
	- 网络层(IP): IPv4/IPv6

		 > IPv4有2^32 -1个IP地址;IPv6有2^128 -1个IP地址:
		    1. 更大的存储空间;
		    2. 更小的路由表;
		    3. 增强的组播;
		    4. 加入了对自动配置的支持；

		 * ICMP(Internet Control Message Protocol): 补充IP传输数据报的过程中，发送主机无法确定数据报是否到达目标主机
			   * 出错报文: 若数据报不能到达目标主机，ICMP出错报告报文可以以回送信息的方式，向源主机发去信息，并不能纠正数据报中的任何出错
			   * 查询报文: ICMP还可以诊断出某些网络问题，这就是ICMP的查询报文。
		 * IGMP(Internet Group Management Protocol): 主要用于建立和管理多播组，对IP分组广播进行控制。

		 > Compare:
			internet控制消息协议ICMP是用于报告错误并代表IP对消息进行控制。IP运用互联组管理协议IGMP来告诉路由器，某一网络上指导组中的可用主机。ICMP源抑制消息：当TCP/IP主机发送数据到另一主机时，如果速度达到路由器或者链路的饱和状态，路由器发出一个ICMP源抑制消息。

		 * ARP: 从路由表获取主机Mac地址
		 * RARP: Mac地址通过路由表反向获得IP地址
		 * RIP
		 * OSPF(Open Shortest Path First开放式最短路径优先)是一个内部网管协议(,IGP)
		 	 - 是IETF组织开发的一个基于链路状态的内部网关协议(InteriorGatewayProtocol IGP)，作为基于链路状态的协议，具有收敛快、路由无环、可扩展等优点，成为优秀的内部网关协议被快速接收并广泛使用。
		 	 - 根据路由器所连接的物理网络不同，OSPF将网络划分为四种类型：广播多路访问型（Broadcast multiAccess）、非广播多路访问型（None Broadcast MultiAccess，NBMA）、点到点型（Point-to-Point）、点到多点型（Point-to-MultiPoint）。 

	- 传输层:
		 - TCP
		 - UDP
		 - SPX
	- 表示层协议：
		 - JPEF
		 - MPEG
		 - ASII 
	- 会话层协议：
		 - NFS
		 - SQL
		 - RPC	
	- 应用层:
		- BGP
		- FTP
		- TELNET
		- HTTP
		- SMTP ->MIME
		- SNMP
		- TFTP
		- DNS
		- BOOTP
		- DHCP
		- WWW
		- NFS

- IP网络数据传输
	- 单播(Unicast): 一对一
		- 单播在网络中得到了广泛的应用，网络上绝大部分的数据都是以单播的形式传输的，只是一般网络用户不知道而已。例如，你在收发电子邮件、浏览网页时，必须与邮件服务器、Web服务器建立连接，此时使用的就是单播数据传输方式。但是通常使用“点对点通信”（PointtoPoint）代替“单播”，因为“单播”一般与“多播”和“广播”相对应使用。

		> 点对点连接是两个系统或进程之间的专用通信链路。想象一下直接连接两个系统的一条线路。两个系统独占此线路进行通信。点对点通信的对立面是广播在广播通信中一个系统可以向多个系统传输。Unicast(单播):在客户端与媒体服务器之间需要建立一个单独的数据通道，从一台服务器送出的每个数据包只能传送给一个客户机,这种传送方式称为单播。

	- 组播/多播(Multicast):(一个人向多个人（但不是在场的所有人）说话)
		- 提高通话的效率。如果你要通知特定的某些人同一件事情，但是又不想让其他人知道，使用电话一个一个地通知就非常麻烦，而使用日常生活的大喇叭进行广播通知，就达不到只通知个别人的目的了，此时使用“多播”来实现就会非常方便快捷，但是现实生活中多播设备非常少。

	- 广播(Broadcast):一对所有
		- 网络对其中每一台主机发出的信号都进行无条件复制并转发，所有主机都可以接收到所有信息（不管你是否需要），由于其不用路径选择，所以其网络成本可以很低廉。有线电视网就是典型的广播型网络，我们的电视机实际上是接受到所有频道的信号，但只将一个频道的信号还原成画面。在数据网络中也允许广播的存在，但其被限制在二层交换机的局域网范围内，禁止广播数据穿过路由器，防止广播数据影响大面积的主机。

- IP地址:(网络号(Network ID)，主机号(Host ID)) 4字节
	- 子网掩码(Subnet Masks):用来区分网络上的主机是否在同一网络取段内
		 - Class A : 255.0.0.0
		 - Class B : 255.255.0.0
		 - Class C : 255.255.255.0

		 > 当地址的所有主机位都为"0"时，这一地址为线路（或子网）地址，而当所有主机位都为"1"时为广播地址。

		 - The Subnet Masks of Class C :
		 	 - 255.255.255.0	子网位数: 0	主机数: 256	可用主机数: 254	
		 	 - 255.255.255.128	子网位数: 1	主机数: 128	可用主机数: 126	
		 	 - 255.255.255.192	子网位数: 2	主机数: 64	可用主机数: 62
		 	 - 255.255.255.224	子网位数: 3 	主机数: 32	可用主机数: 30
		 	 - 255.255.255.240	子网位数: 4	主机数: 16	可用主机数: 14
		 	 - 255.255.255.248	子网位数: 5	主机数: 8		可用主机数: 6
		 	 - 255.255.255.252	子网位数: 6	主机数: 4		可用主机数: 2

	- 实际应用中，可能会有多个分布与各地的网络，而且，每个网络的主机数量并不很多，如果申请多个NETWORKID，会造成IP资源的浪费，而且很不经济，如果我们在SUBNET MASKS上动一下手脚，可以在只申请一个NETWORK ID的基础上解决这个问题

	> 如果将子网掩码设置过大，也就是说子网范围扩大。那么根据子网寻径规则，很可能发往和本地机不在同一子网内的目的机的数据，会因为错误的相与结果而认为是在同一子网内，那么，数据包将在本子网内循环，直到超时并抛弃。数据不能正确到达目的机，导致网络传输错误。如果将子网掩码设置得过小，那么就会将本来属于同一子网内的机器之间的通信当做是跨子网传输，数据包都交给缺省网关处理，这样势必增加缺省网关的负担，造成网络效率下降。因此，任意设置子网掩码是不对的，应该根据网络管理部门的规定进行设置。如子网掩码的位数越多，能划分的子网数也就越多，但是每个子网的主机数就会越少。子网掩码的划分设置也有一个缺点：划分的子网越多，损失的IP地址也会越多。因为每个子网都会保留全0或全1的两个地址而不能使用。



