# iOS 多线程（二）GCD

##GCD

> 1. Grand Central Dispatch: "伟大的中枢调度器"
  2. GCDGCD是苹果公司为多核的并行运算提出的解决方案
  3. 纯C语言，提供了非常多强大的函数

### 优势
1. GCD会自动利用更多的CPU内核(如何双核、四核)
2. GCD会自动管理线程的生命周期(创建线程、调度任务、销毁线程)
3. 只需要告诉GCD想要执行什么任务，不需要编写任何线程管理代码

###基本概念

**任务和队列**
1. 任务(block): 执行什么操作
2. 队列(queue): 用来存放任务
	
	####任务
		- 执行任务
		- 同步的方式执行任务
		- 异步的方式执行任务
		- 用来执行任务的函数，前面的任务执行结束后才执行，它后面的任务等它执行完成之后才会执行
	
		**注意** 
		 - 同步:
		 	 只能在当前线程中执行任务，不具备开启新线程的能力
		 - 异步: 
		 	 可以在新的线程中执行任务，具备开启新线程的能力

	####任务
		- 并发队列（Concurrent Dispatch Queue）
			 - 可以让多个任务并发（同时）执行（自动开启多个线程同时执行任务）
			 - 并发功能只有在异步（dispatch_async）函数下才有效
		- 串行队列（Serial Dispatch Queue）
		 	 - 让任务一个接着一个地执行（一个任务执行完毕后，再执行下一个任务）
		- 各种队列的执行效果

> Compare:
1.同步和异步主要影响：能不能开启新的线程
	 - 同步：只是在当前线程中执行任务，不具备开启新线程的能力
	 - 异步：可以在新的线程中执行任务，具备开启新线程的能力
2.并发和串行主要影响：任务的执行方式
	 - 并发：多个任务并发（同时）执行
	 - 串行：一个任务执行完毕后，再执行下一个任务


###GCD运用
	 - 线程间通信
	 - 延时执行
	 - 一次性代码
	 - 快速迭代
	 - 队列组

###单例模式

> 
 - 可以保证在程序运行过程，一个类只有一个实例，而且该实例易于供外界访问。从而方便地控制了实例个数，并节约系统资源;
 - 在整个应用程序中，共享一份资源（这份资源只需要创建初始化1次）

- 实现过程
	 - 重写实现：
	 - 宏实现: 


		
	